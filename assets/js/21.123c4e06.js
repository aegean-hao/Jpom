(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{520:function(e,r,t){"use strict";t.r(r);var v=t(31),a=Object(v.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"🚀-2-5-0-2-5-2-版本日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#🚀-2-5-0-2-5-2-版本日志"}},[e._v("#")]),e._v(" 🚀 2.5.0 ~ 2.5.2 版本日志")]),e._v(" "),t("h2",{attrs:{id:"_2-5-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-2"}},[e._v("#")]),e._v(" 2.5.2")]),e._v(" "),t("h3",{attrs:{id:"🐣-新增功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能"}},[e._v("#")]),e._v(" 🐣 新增功能")]),e._v(" "),t("ol",[t("li",[e._v("【agent+server】 新增节点批量升级功能（注意，之前的节点版本不支持该功能需要升级当前版本后才能使用该功能）")]),e._v(" "),t("li",[e._v("【server】节点配置的超时时间单位由毫秒改为秒，并且最小值为2秒")]),e._v(" "),t("li",[e._v("【server】新增构建合并分支日志（便于判断分支冲突问题）")])]),e._v(" "),t("h3",{attrs:{id:"🐞-解决bug、优化功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能"}},[e._v("#")]),e._v(" 🐞 解决BUG、优化功能")]),e._v(" "),t("ol",[t("li",[e._v("【server】fix bug:\n分发列表页面，展开某个节点之后点击操作按钮会出现新的一行无效数据。"),t("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/e28b14bcf3dce402ce170a40f9bb93c4d25d0935",target:"_blank",rel:"noopener noreferrer"}},[e._v("点击查看提交记录"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://gitee.com/hotstrip",target:"_blank",rel:"noopener noreferrer"}},[e._v("@Hotstrip"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("【server】fix bug:\n项目监控页面，线程数据加载失败问题 "),t("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/b11c5443db6468a2bf7f6a9fa933f8d965899624",target:"_blank",rel:"noopener noreferrer"}},[e._v("点击查看提交记录"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://gitee.com/hotstrip",target:"_blank",rel:"noopener noreferrer"}},[e._v("@Hotstrip"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("【server】fix bug: 修复低版本浏览器不支持 "),t("code",[e._v(".replaceAll()")]),e._v("\n方法 "),t("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/0fb475963153b76546409ac3065a0efe9e647541",target:"_blank",rel:"noopener noreferrer"}},[e._v("点击查看提交记录"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://gitee.com/fat_magpie_beijing_tony",target:"_blank",rel:"noopener noreferrer"}},[e._v("@杨巍"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("【server】update: 更新分发列表 -- 关联分发项目页面操作逻辑（跟老版本操作逻辑一致）"),t("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/cd6e4ae89f833e5e7ef11bd12c324a487de27b1a",target:"_blank",rel:"noopener noreferrer"}},[e._v("点击查看提交记录"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://gitee.com/koushare_dfli",target:"_blank",rel:"noopener noreferrer"}},[e._v("@李道甫"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("【server】update: 优化项目文件管理页面，加载目录树时会多次显示 loading 层 "),t("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/71b3779bffb36259e0980ce25d4e4082a9d7c2e6",target:"_blank",rel:"noopener noreferrer"}},[e._v("点击查看提交记录"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://gitee.com/hotstrip",target:"_blank",rel:"noopener noreferrer"}},[e._v("@Hotstrip"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("【server】fix bug: 修复节点请求超时可能导致节点项目列表为空 bug "),t("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/e3182dfa04c27e63a29d67b292a7bfef834f875e",target:"_blank",rel:"noopener noreferrer"}},[e._v("点击查看提交记录"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://gitee.com/hotstrip",target:"_blank",rel:"noopener noreferrer"}},[e._v("@Hotstrip"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("【agent】 fix bug: index 获取进程列表 NPE (感谢@夏末秋初)")]),e._v(" "),t("li",[e._v("【server】fix bug: 修复上传项目压缩文件创建项目目录异常"),t("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I29FRJ",target:"_blank",rel:"noopener noreferrer"}},[e._v("点击这里查看对应 issue"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("【server】fix bug：创建构建时，如果选择\nsvn，隐藏掉分支选项。"),t("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I3TA6S",target:"_blank",rel:"noopener noreferrer"}},[e._v("点击这里查看对应 issue"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://gitee.com/alexa1989",target:"_blank",rel:"noopener noreferrer"}},[e._v("感谢 Alexa 提出 issue"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://gitee.com/dromara/Jpom/compare/180914f4ddda4dc34fa2df9b169bac7b593dedb0...aa6bb065b6f507ad0bf42225a2aad40e2d25597f",target:"_blank",rel:"noopener noreferrer"}},[e._v("@Hotstrip"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("【server】 fix bug: ssh 构建发布清空历史文件失败（感谢@金晨曦）")]),e._v(" "),t("li",[e._v("【server】update 构建初始化仓库拉取指定分支，不先拉取主分支再切换到指定分支（感谢@大灰灰）")]),e._v(" "),t("li",[e._v("【server】程序关闭时候自动关闭 h2 数据连接池，避免数据库文件被损坏")]),e._v(" "),t("li",[e._v("【server】style:\n优化logo，登录页面，初始化页面 "),t("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/5d4783f0be7d44bb04275b059ccd1509620c5828",target:"_blank",rel:"noopener noreferrer"}},[e._v("点击查看对应提交记录"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://gitee.com/zsf_008",target:"_blank",rel:"noopener noreferrer"}},[e._v("@长得丑活得久i"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("【server】fix bug:\n修复在没有配置nginx白名单时访问nginx列表数据一直加载中问题"),t("a",{attrs:{href:"https://github.com/dromara/Jpom/issues/5",target:"_blank",rel:"noopener noreferrer"}},[e._v("点击这里查看对应 issue"),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://gitee.com/zsf_008",target:"_blank",rel:"noopener noreferrer"}},[e._v("@长得丑活得久i"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("新增 .gitattributes 文件控制命令文件的编码格式以及换行符（感谢@ℳ๓₯㎕斌）")])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"_2-5-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-1"}},[e._v("#")]),e._v(" 2.5.1")]),e._v(" "),t("h3",{attrs:{id:"🐣-新增功能-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-2"}},[e._v("#")]),e._v(" 🐣 新增功能")]),e._v(" "),t("ol",[t("li",[e._v("【Server】保存邮箱信息时候验证邮箱配置是否正确（感谢@maybe）")]),e._v(" "),t("li",[e._v("【Server】Token 机制采用 jwt")]),e._v(" "),t("li",[e._v("【Server】git 构建新增进度日志输出")]),e._v(" "),t("li",[e._v("【Server】添加操作监控相关 api 和页面功能")]),e._v(" "),t("li",[e._v("【Server】完善 JWT token 过期自动续签功能")]),e._v(" "),t("li",[e._v("【Server】添加前端页面引导系统（使用 introJs）")]),e._v(" "),t("li",[e._v("【Server】访问 ip 限制，支持配置白名单和黑名单来控制 ip 访问权限")]),e._v(" "),t("li",[e._v("【Server】添加服务自启动脚本创建方案，下面贴一下 Server 端自启动方式：")])]),e._v(" "),t("h3",{attrs:{id:"🐞-解决bug、优化功能-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-2"}},[e._v("#")]),e._v(" 🐞 解决BUG、优化功能")]),e._v(" "),t("ol",[t("li",[e._v("【Server】全局网络请求新增 loading 状态控制")]),e._v(" "),t("li",[e._v("【Server】获取构建日志关闭 loading 状态")]),e._v(" "),t("li",[e._v("【Agent】控制台日志支持定时清空,避免日志文件太大（感谢@南有乔木）")]),e._v(" "),t("li",[e._v("【Server】在线升级状态判断修复")]),e._v(" "),t("li",[e._v("【Server】修复项目获取进程信息失败（感谢@onlyonezhongjinhui GitHub issues#7）")]),e._v(" "),t("li",[e._v("【Server】项目文件管理中显示项目文件存放真实目录")]),e._v(" "),t("li",[e._v("【Server】项目文件管理中文件夹不存在时，loading不消失（感谢@onlyonezhongjinhui GitHub issues#6）")]),e._v(" "),t("li",[e._v("【Server】文件管理列表不能正常加载二级以上的目录")]),e._v(" "),t("li",[e._v("【Server】添加监控判断用户是否配置报警联系方式（感谢@maybe）")]),e._v(" "),t("li",[e._v("【Server】初始化安装不能自动登录")]),e._v(" "),t("li",[e._v("【Server】页面组件采用国际化采用 zh_cn")]),e._v(" "),t("li",[e._v("【Server】服务器中验证码无法加载（感谢@何好听 Gitee issues#I3E7XQ）")]),e._v(" "),t("li",[e._v("【Agent】解决控制台输出 "),t("code",[e._v("Failed to check connection: java.net.ConnectException: Connection refused: connect")]),e._v(",因为没有关闭对应的 jmx")]),e._v(" "),t("li",[e._v("【Agent】解决首页控制台 java 进程列表慢的问题（采用定时拉取并缓存）")]),e._v(" "),t("li",[e._v("【server】fix bug:\n节点列表页面，展开某个节点之后点击操作按钮会出现新的一行无效数据。 "),t("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/b9ecdfa649d27c46bca696e6df088a0908056ff6",target:"_blank",rel:"noopener noreferrer"}},[e._v("点击查看提交记录"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("【server】fix bug: 节点列表页面，在没有安装节点的情况下，点击终端按钮会在控制台报错。"),t("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I3J4UI",target:"_blank",rel:"noopener noreferrer"}},[e._v("点击这里查看对应 issue"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("【server】fix bug: 节点管理里面的 Nginx 管理，关闭服务的接口参数传递错了。"),t("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I3IFZY",target:"_blank",rel:"noopener noreferrer"}},[e._v("点击这里查看对应 issue"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("【server】优化系统配置页面的样式，在小屏幕设备上会出现多个竖方向上的滚动条，甚至有时候会遮住底部的操作按钮")]),e._v(" "),t("li",[e._v("【server】ssh 终端命令交互优化（改优化取消之前版本快捷解压功能，删除命令检查）")]),e._v(" "),t("li",[e._v("【server】优化表格的排版和高度等样式，适配页面。详情见 "),t("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I3EE2R",target:"_blank",rel:"noopener noreferrer"}},[e._v("issue"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("【server】优化节点分发关联操作界面。")])]),e._v(" "),t("blockquote",[t("p",[e._v("⚠️ 注意事项：")]),e._v(" "),t("ol",[t("li",[e._v("ssh 终端的删除命令检查临时取消（后面版本会重新优化）")]),e._v(" "),t("li",[e._v("该版本新增配置 Jpom 服务方式，需要更新 Server.sh、Agent.sh 文件，在线升级仅升级应用程序不会升级对应的管理命令文件，如果需要使用到该功能还需要手动覆盖更新对应的文件。（如果自定义过管理命令文件则需要差异覆盖）")])])]),e._v(" "),t("blockquote",[t("p",[e._v("开机自启动：")]),e._v(" "),t("blockquote",[t("ol",[t("li",[e._v("在 Server 端找到 Server.sh 文件，执行命令 "),t("code",[e._v("./Server.sh create")]),e._v("，会在当前目录下生成 jpom-server 文件，这个文件就是 Server 端的自启动的文件")]),e._v(" "),t("li",[e._v("在 Agent 端找到 Agent.sh 文件，执行命令 "),t("code",[e._v("./Agent.sh create")]),e._v("，会在当前目录下生成 jpom-agent 文件，这个文件就是 Agent 端的自启动的文件")]),e._v(" "),t("li",[e._v("把刚刚生成的自启动文件移动到 /etc/init.d/ 目录")]),e._v(" "),t("li",[e._v("到 /etc/init.d/ 目录让自启动文件拥有执行权限，执行命令 "),t("code",[e._v("chmod +x jpom-server")]),e._v(" 或者 "),t("code",[e._v("chmod +x jpom-agent")])]),e._v(" "),t("li",[e._v("注册到 chkconfig 列表里面，就可以实现开机自启，执行命令 "),t("code",[e._v("chkconfig --add jpom-server")]),e._v(" 或者 "),t("code",[e._v("chkconfig --add jpom-agent")])]),e._v(" "),t("li",[e._v("执行完第 4 步就可以通过 "),t("code",[e._v("service jpom-xxx {status | start | stop}")]),e._v(" 来管理 Jpom 服务")]),e._v(" "),t("li",[e._v("目前仅通过 Cent OS 服务器测试，其他服务器可能会无效")])])])]),e._v(" "),t("hr"),e._v(" "),t("h2",{attrs:{id:"_2-5-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-0"}},[e._v("#")]),e._v(" 2.5.0")]),e._v(" "),t("h3",{attrs:{id:"🐣-新增功能-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-3"}},[e._v("#")]),e._v(" 🐣 新增功能")]),e._v(" "),t("ol",[t("li",[e._v("【server】接入全局 loading 控件")]),e._v(" "),t("li",[e._v("【server】默认进入新版UI")])]),e._v(" "),t("h3",{attrs:{id:"🐞-解决bug、优化功能-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-3"}},[e._v("#")]),e._v(" 🐞 解决BUG、优化功能")]),e._v(" "),t("ol",[t("li",[e._v("【Server】fix bug: ssh 列表页面编辑弹窗无法加载（当没有设置文件目录时）")]),e._v(" "),t("li",[e._v("【Server】fix bug: 分发列表，项目运行状态显示错误")]),e._v(" "),t("li",[e._v("【Server】fix bug：第一次安装未能正常打开初始化账号密码页面")]),e._v(" "),t("li",[e._v("【server】fix bug: 独立分发项目编辑时，jvm args 等参数不会回显")]),e._v(" "),t("li",[e._v("【server】fix: 点击构建自动打开构建日志、构建日志弹窗自动滚动到底部")]),e._v(" "),t("li",[e._v("【server】add: index.html 添加打包时间")]),e._v(" "),t("li",[e._v("【server】fix bug：添加、编辑用户原始密码进行了sha1")]),e._v(" "),t("li",[e._v("【server】add: 添加构建历史回滚操作（感谢@李道甫）")]),e._v(" "),t("li",[e._v("【server】add: 添加项目文件管理页面上传压缩文件（感谢@李道甫）")]),e._v(" "),t("li",[e._v("【server】fix bug: 文件上传时显示上传进度（感谢@李道甫）")]),e._v(" "),t("li",[e._v("【server】fix bug: 项目文件管理的侧边文件树优化（感谢@李道甫）")]),e._v(" "),t("li",[e._v("【server】fix: 控制台日志弹窗自动滚动到底部（感谢@南有乔木）")]),e._v(" "),t("li",[e._v("【server】add: File方式创建项目 项目控制台互调（感谢@李道甫 贡献）")]),e._v(" "),t("li",[e._v("【server】add: 分发提示修改 分发项目显示 （感谢@李道甫 贡献）")])]),e._v(" "),t("blockquote",[t("p",[e._v("⚠️ 注意：目前新版本登录状态采用固定 token 模式，登录后将一直保持在线状态，如需要退出或者离线需要进行退出登录操作。（该问题将于后面版本进行优化调整）")])])])}),[],!1,null,null,null);r.default=a.exports}}]);